add_library(ode STATIC src/ode/src/array.cpp src/ode/src/collision_trimesh_box.cpp src/ode/src/error.cpp src/ode/src/odeou.cpp src/ode/src/box.cpp src/ode/src/collision_trimesh_ccylinder.cpp src/ode/src/export-dif.cpp src/ode/src/odetls.cpp src/ode/src/capsule.cpp src/ode/src/collision_trimesh_disabled.cpp src/ode/src/heightfield.cpp src/ode/src/plane.cpp src/ode/src/collision_convex_trimesh.cpp src/ode/src/collision_trimesh_distance.cpp src/ode/src/lcp.cpp src/ode/src/quickstep.cpp src/ode/src/collision_cylinder_box.cpp src/ode/src/collision_trimesh_gimpact.cpp src/ode/src/mass.cpp src/ode/src/ray.cpp src/ode/src/collision_cylinder_plane.cpp src/ode/src/collision_trimesh_opcode.cpp src/ode/src/mat.cpp src/ode/src/rotation.cpp src/ode/src/collision_cylinder_sphere.cpp src/ode/src/collision_trimesh_plane.cpp src/ode/src/matrix.cpp src/ode/src/sphere.cpp src/ode/src/collision_cylinder_trimesh.cpp src/ode/src/collision_trimesh_ray.cpp src/ode/src/memory.cpp src/ode/src/step.cpp src/ode/src/collision_kernel.cpp src/ode/src/collision_trimesh_sphere.cpp src/ode/src/misc.cpp src/ode/src/threading_base.cpp src/ode/src/collision_libccd.cpp src/ode/src/collision_trimesh_trimesh.cpp src/ode/src/objects.cpp src/ode/src/threading_impl.cpp src/ode/src/collision_quadtreespace.cpp src/ode/src/collision_trimesh_trimesh_new.cpp src/ode/src/obstack.cpp src/ode/src/threading_pool_posix.cpp src/ode/src/collision_sapspace.cpp src/ode/src/collision_util.cpp src/ode/src/ode.cpp src/ode/src/threading_pool_win.cpp src/ode/src/collision_space.cpp src/ode/src/convex.cpp src/ode/src/odeinit.cpp src/ode/src/timer.cpp src/ode/src/collision_transform.cpp src/ode/src/cylinder.cpp src/ode/src/odemath.cpp src/ode/src/util.cpp src/ode/src/fastdot.c src/ode/src/fastldlt.c src/ode/src/fastlsolve.c src/ode/src/fastltsolve.c src/ode/src/nextafterf.c src/ode/src/array.h src/ode/src/collision_util.h src/ode/src/odemath.h src/ode/src/threading_impl.h src/ode/src/collision_kernel.h src/ode/src/error.h src/ode/src/odeou.h src/ode/src/threading_impl_posix.h src/ode/src/collision_libccd.h src/ode/src/heightfield.h src/ode/src/odetls.h src/ode/src/threading_impl_templates.h src/ode/src/collision_space_internal.h src/ode/src/lcp.h src/ode/src/quickstep.h src/ode/src/threading_impl_win.h src/ode/src/collision_std.h src/ode/src/mat.h src/ode/src/step.h src/ode/src/threadingutils.h src/ode/src/collision_transform.h src/ode/src/matrix.h src/ode/src/threading_atomics_provs.h src/ode/src/typedefs.h src/ode/src/collision_trimesh_colliders.h src/ode/src/objects.h src/ode/src/threading_base.h src/ode/src/util.h src/ode/src/collision_trimesh_internal.h src/ode/src/obstack.h src/ode/src/threading_fake_sync.h src/ode/src/joints/contact.cpp src/ode/src/joints/dhinge.h src/ode/src/joints/hinge2.cpp src/ode/src/joints/joints.h src/ode/src/joints/piston.cpp src/ode/src/joints/pr.h src/ode/src/joints/transmission.cpp src/ode/src/joints/amotor.cpp src/ode/src/joints/contact.h src/ode/src/joints/fixed.cpp src/ode/src/joints/hinge2.h src/ode/src/joints/lmotor.cpp src/ode/src/joints/piston.h src/ode/src/joints/pu.cpp src/ode/src/joints/transmission.h src/ode/src/joints/amotor.h src/ode/src/joints/dball.cpp src/ode/src/joints/fixed.h src/ode/src/joints/joint.cpp src/ode/src/joints/lmotor.h src/ode/src/joints/plane2d.cpp src/ode/src/joints/pu.h src/ode/src/joints/universal.cpp src/ode/src/joints/ball.cpp src/ode/src/joints/dball.h src/ode/src/joints/hinge.cpp src/ode/src/joints/joint.h src/ode/src/joints/null.cpp src/ode/src/joints/plane2d.h src/ode/src/joints/slider.cpp src/ode/src/joints/universal.h src/ode/src/joints/ball.h src/ode/src/joints/dhinge.cpp src/ode/src/joints/hinge.h src/ode/src/joints/joint_internal.h src/ode/src/joints/null.h src/ode/src/joints/pr.cpp src/ode/src/joints/slider.h src/OPCODE/OPC_AABBCollider.h src/OPCODE/OPC_IceHook.h src/OPCODE/OPC_OptimizedTree.h src/OPCODE/OPC_RayTriOverlap.h src/OPCODE/OPC_TriBoxOverlap.h src/OPCODE/OPC_AABBTree.h src/OPCODE/OPC_LSSAABBOverlap.h src/OPCODE/OPC_Picking.h src/OPCODE/OPC_Settings.h src/OPCODE/OPC_TriTriOverlap.h src/OPCODE/OPC_BaseModel.h src/OPCODE/OPC_LSSCollider.h src/OPCODE/OPC_PlanesAABBOverlap.h src/OPCODE/OPC_SphereAABBOverlap.h src/OPCODE/OPC_VolumeCollider.h src/OPCODE/OPC_BoxBoxOverlap.h src/OPCODE/OPC_LSSTriOverlap.h src/OPCODE/OPC_PlanesCollider.h src/OPCODE/OPC_SphereCollider.h src/OPCODE/Opcode.h src/OPCODE/OPC_Collider.h src/OPCODE/OPC_MeshInterface.h src/OPCODE/OPC_PlanesTriOverlap.h src/OPCODE/OPC_SphereTriOverlap.h src/OPCODE/Stdafx.h src/OPCODE/OPC_Common.h src/OPCODE/OPC_Model.h src/OPCODE/OPC_RayAABBOverlap.h src/OPCODE/OPC_TreeBuilders.h src/OPCODE/OPC_HybridModel.h src/OPCODE/OPC_OBBCollider.h src/OPCODE/OPC_RayCollider.h src/OPCODE/OPC_TreeCollider.h src/OPCODE/OPC_AABBCollider.cpp src/OPCODE/OPC_Common.cpp src/OPCODE/OPC_Model.cpp src/OPCODE/OPC_PlanesCollider.cpp src/OPCODE/OPC_TreeCollider.cpp src/OPCODE/OPC_AABBTree.cpp src/OPCODE/OPC_HybridModel.cpp src/OPCODE/OPC_OBBCollider.cpp src/OPCODE/OPC_RayCollider.cpp src/OPCODE/OPC_VolumeCollider.cpp src/OPCODE/OPC_BaseModel.cpp src/OPCODE/OPC_LSSCollider.cpp src/OPCODE/OPC_OptimizedTree.cpp src/OPCODE/OPC_SphereCollider.cpp src/OPCODE/Opcode.cpp src/OPCODE/OPC_Collider.cpp src/OPCODE/OPC_MeshInterface.cpp src/OPCODE/OPC_Picking.cpp src/OPCODE/OPC_TreeBuilders.cpp src/OPCODE/StdAfx.cpp src/OPCODE/Ice/IceAABB.h src/OPCODE/Ice/IceHPoint.h src/OPCODE/Ice/IceMemoryMacros.h src/OPCODE/Ice/IcePreprocessor.h src/OPCODE/Ice/IceTriList.h src/OPCODE/Ice/IceAxes.h src/OPCODE/Ice/IceIndexedTriangle.h src/OPCODE/Ice/IceOBB.h src/OPCODE/Ice/IceRandom.h src/OPCODE/Ice/IceTriangle.h src/OPCODE/Ice/IceBoundingSphere.h src/OPCODE/Ice/IceLSS.h src/OPCODE/Ice/IcePairs.h src/OPCODE/Ice/IceRay.h src/OPCODE/Ice/IceTypes.h src/OPCODE/Ice/IceContainer.h src/OPCODE/Ice/IceMatrix3x3.h src/OPCODE/Ice/IcePlane.h src/OPCODE/Ice/IceRevisitedRadix.h src/OPCODE/Ice/IceUtils.h src/OPCODE/Ice/IceFPU.h src/OPCODE/Ice/IceMatrix4x4.h src/OPCODE/Ice/IcePoint.h src/OPCODE/Ice/IceSegment.h src/OPCODE/Ice/IceAABB.cpp src/OPCODE/Ice/IceIndexedTriangle.cpp src/OPCODE/Ice/IceOBB.cpp src/OPCODE/Ice/IceRandom.cpp src/OPCODE/Ice/IceSegment.cpp src/OPCODE/Ice/IceContainer.cpp src/OPCODE/Ice/IceMatrix3x3.cpp src/OPCODE/Ice/IcePlane.cpp src/OPCODE/Ice/IceRay.cpp src/OPCODE/Ice/IceTriangle.cpp src/OPCODE/Ice/IceHPoint.cpp src/OPCODE/Ice/IceMatrix4x4.cpp src/OPCODE/Ice/IcePoint.cpp src/OPCODE/Ice/IceRevisitedRadix.cpp src/OPCODE/Ice/IceUtils.cpp src/ou/src/ou/atomic.cpp src/ou/src/ou/customization.cpp src/ou/src/ou/malloc.cpp src/ou/src/ou/threadlocalstorage.cpp)

target_include_directories(ode SYSTEM PUBLIC include src/include src/ode/src src/OPCODE src/libccd/src src/ou/include)

target_compile_definitions(ode PRIVATE -DdIDESINGLE -DCCD_IDESINGLE)
target_compile_definitions(ode PUBLIC -DODE_LIB)

IF(BB_MACOS)
  target_compile_definitions(ode PRIVATE -DMAC_OS_X_VERSION=1090)
ELSEIF(BB_MSVC)
  # suppress doube -> dReal warnings
  target_compile_options(ode PRIVATE /w4244)
ENDIF()
